<mat-form-field appearance="outline" style="width:40vw; font-size: 12px" color="warning">
  <mat-label>Search</mat-label>
  <input matInput
    placeholder="Search"
    (change)="changeText($event)"
    [required]="false"
    [value]="query.text"
    (blur)="changeText($event)"
  >
</mat-form-field>

<button mat-flat-button (click)="searchContracts()" color="primary" class = "searchbutt">Search</button>
<button mat-flat-button (click)="openFilter()" color="primary" class = "filterbutt" >Filter</button>
<button mat-flat-button (click)="openForm()" color="primary" class = "createbutt">Create Contract</button>

<table mat-table [dataSource]="contracts" class="mat-elevation-z8 table">

  <ng-container matColumnDef="date_range">
    <th mat-header-cell *matHeaderCellDef> Dates </th>
    <td mat-cell *matCellDef="let element">{{element.contract_date}} - {{element.contract_end_date}}</td>
  </ng-container>

 <ng-container matColumnDef="vendor_name">
    <th mat-header-cell *matHeaderCellDef> Name </th>
    <td mat-cell *matCellDef="let element">{{element.vendor.vendor_name}}</td>
  </ng-container>

  <ng-container matColumnDef="amount">
    <th mat-header-cell *matHeaderCellDef> Amount due </th>
    <td mat-cell *matCellDef="let element">{{element.amount}}</td>
  </ng-container>

  <ng-container matColumnDef="payments">
    <th mat-header-cell *matHeaderCellDef> # of Payments </th>
    <td mat-cell *matCellDef="let element">{{element.paymentInfo ? element.paymentInfo.length : 0}}</td>
  </ng-container>

  <ng-container matColumnDef="workType">
    <th mat-header-cell *matHeaderCellDef> Work Type </th>
    <td mat-cell *matCellDef="let element">{{element.workType.type}}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="openForm(row)"></tr>
</table>